#!/usr/bin/env ruby

require "lib/engine"

story = Gamefic::Story.new
story.load ARGV[0]

if ARGV[1] == 'tick'
	require "lib/engines/singletick"
	game = Gamefic::SingleTick.new story
	game.enroll Gamefic::SingleTick::User.new
else
	require "lib/engines/singleturn"
	game = Gamefic::SingleTurn.new story
	game.enroll Gamefic::SingleTurn::User.new
end

game.run
